# 🚀 模型申请详细指南

## 一、通义千问申请步骤（推荐首选）

### 1. 访问阿里云百炼平台
👉 https://dashscope.console.aliyun.com/

### 2. 需要申请的模型

#### ✅ 文本模型（必需）
- **模型名称**：通义千问-Turbo（qwen-turbo）
- **用途**：视频内容分析、题目生成
- **价格**：¥0.002/1K tokens（约1000字=1.5K tokens）
- **免费额度**：100万tokens/月

**申请流程**：
1. 登录后点击「模型广场」
2. 找到「通义千问」系列
3. 选择「qwen-turbo」
4. 点击「立即开通」
5. 获取API Key

#### ✅ 语音模型（推荐）
- **模型名称**：Paraformer语音识别
- **用途**：视频音频转文字
- **价格**：¥0.0003/秒
- **免费额度**：2小时/月

**申请流程**：
1. 在模型广场找到「语音」分类
2. 选择「Paraformer-中英文语音识别」
3. 点击开通

### 3. 获取API Key
```
控制台 → 右上角账户 → API-KEY管理 → 创建新的API KEY
```

### 4. 配置到项目
```env
# .env.local
AI_PROVIDER=qwen
QWEN_API_KEY=sk-xxxxxxxxxxxxxx  # 你的API Key
```

---

## 二、讯飞星火申请步骤（教育场景优化）

### 1. 访问讯飞开放平台
👉 https://www.xfyun.cn/

### 2. 申请产品

#### ✅ 星火大模型（文本）
- **产品**：星火认知大模型V3.5
- **优势**：教育场景优化，题目质量高
- **价格**：¥0.01/1K tokens
- **新用户福利**：200万tokens免费

**申请流程**：
1. 注册并实名认证
2. 进入控制台
3. 创建应用
4. 选择「星火认知大模型」
5. 获取APPID、APIKey、APISecret

#### ✅ 语音听写（推荐）
- **产品**：语音听写（流式版）
- **优势**：中英文混合识别准确
- **价格**：¥0.0033/秒
- **免费额度**：500小时

**申请流程**：
1. 在产品中心找到「语音听写」
2. 创建应用时勾选此服务
3. 使用同一组密钥

### 3. 配置到项目
```env
# .env.local
SPARK_APP_ID=xxxxxxxxx
SPARK_API_KEY=xxxxxxxxx
SPARK_API_SECRET=xxxxxxxxx
```

---

## 三、模型选择决策树

```
你的需求是什么？
│
├─ 快速上线，成本最低？
│  └─ 选择：通义千问-Turbo（文本）
│
├─ 需要语音转文字？
│  └─ 选择：通义千问（文本）+ 讯飞语音听写
│
├─ 重视教育题目质量？
│  └─ 选择：讯飞星火（文本）+ 讯飞语音
│
└─ 要最好的效果？
   └─ 选择：GPT-4（文本）+ Whisper（语音）
```

---

## 四、视觉模型（暂时不需要）

### ❌ 目前不需要申请
- **原因**：当前版本不分析视频画面
- **未来**：如需分析视频场景、人物表情等，再申请

### 可选视觉模型（未来扩展）
- 通义千问-VL（视觉语言模型）
- 讯飞图像理解
- GPT-4-Vision

---

## 五、成本估算对比

### 每1000个用户/月成本

| 方案 | 文本模型 | 语音模型 | 月总成本 | 推荐指数 |
|------|---------|----------|----------|----------|
| **方案1** | 通义千问-Turbo | 阿里语音识别 | ¥200-300 | ⭐⭐⭐⭐⭐ |
| **方案2** | 讯飞星火3.5 | 讯飞语音听写 | ¥400-600 | ⭐⭐⭐⭐ |
| **方案3** | GPT-3.5 | Whisper | ¥2000-3000 | ⭐⭐⭐ |
| **方案4** | 混合方案 | 混合方案 | ¥500-800 | ⭐⭐⭐⭐ |

---

## 六、快速开始清单

### ✅ 立即行动（10分钟完成）

1. **第一步**：申请通义千问
   - [ ] 访问 https://dashscope.console.aliyun.com/
   - [ ] 开通 qwen-turbo 模型
   - [ ] 创建并复制 API Key

2. **第二步**：配置项目
   - [ ] 打开 `.env.local` 文件
   - [ ] 粘贴 API Key
   - [ ] 设置 `AI_PROVIDER=qwen`

3. **第三步**：测试运行
   - [ ] 重启开发服务器
   - [ ] 访问 http://localhost:3000
   - [ ] 测试AI分析功能

### 📞 遇到问题？

1. **通义千问文档**：https://help.aliyun.com/zh/dashscope/
2. **讯飞文档**：https://www.xfyun.cn/doc/
3. **常见问题**：
   - API Key无效：检查是否有空格
   - 额度用完：查看控制台用量统计
   - 响应慢：考虑使用CDN加速

---

## 七、省钱技巧

### 💰 如何最大化免费额度

1. **新用户福利叠加**
   - 通义千问：100万tokens/月
   - 讯飞星火：200万tokens（一次性）
   - 可以先用完一个再切换

2. **合理使用模型**
   ```javascript
   // 根据任务复杂度选择模型
   简单任务 → qwen-turbo（便宜）
   复杂任务 → qwen-plus（效果好）
   教育题目 → 讯飞星火（专业）
   ```

3. **缓存策略**
   - 相同视频分析结果缓存7天
   - 热门视频预先分析
   - 用户答题记录本地存储

4. **批量处理**
   - 夜间批量分析新视频
   - 合并相似请求
   - 使用消息队列控制并发

---

## 🎯 推荐方案总结

**初学者/MVP阶段**：
```
只申请：通义千问-Turbo（文本模型）
成本：前3个月免费
够用：完全满足MVP需求
```

**准备商业化**：
```
申请：通义千问 + 讯飞语音听写
成本：¥300-500/月
效果：生产级别质量
```

立即开始👉 [申请通义千问](https://dashscope.console.aliyun.com/)